# =============================================================================
# Echo Project - Shared Environment Variables
# =============================================================================
# These are defaults that can be overridden by service-specific .env files
# For Docker: docker-compose.yml references these values and sets container URLs


# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=development
LOG_LEVEL=info

# Logging Configuration
ENABLE_FILE_LOGGING=true
LOG_DIR=./logs


# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
# Shared credentials - each service has its own database
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Database names (one per service)
USERS_DB_NAME=users_db
WORKSPACE_CHANNELS_DB_NAME=workspace_channels_db
MESSAGE_DB_NAME=message_db


# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=dev-redis-password
# Constructed URL (uses variables above)
# REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}


# =============================================================================
# RABBITMQ CONFIGURATION
# =============================================================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=dev-rabbitmq-password
# Constructed URL (uses variables above)
# RABBITMQ_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}
RABBITMQ_EXCHANGE=echo.events


# =============================================================================
# JWT CONFIGURATION (Shared across all services)
# =============================================================================
JWT_SECRET=your-super-secure-jwt-secret-key-change-this-in-production
JWT_ACCESS_TOKEN_EXPIRY_SECONDS=900
JWT_REFRESH_TOKEN_EXPIRY_SECONDS=604800


# =============================================================================
# SERVICE URLS (for local development)
# =============================================================================
# In Docker, these are overridden to use container names
USER_SERVICE_URL=http://localhost:8001
WORKSPACE_CHANNEL_SERVICE_URL=http://localhost:8002
MESSAGE_SERVICE_URL=http://localhost:8003
BFF_SERVICE_URL=http://localhost:8004


# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
FRONTEND_URL=http://localhost:3000
FRONTEND_BASE_URL=http://localhost:3000

# Next.js Public Variables (used in browser)
NEXT_PUBLIC_API_URL=http://localhost:8004
NEXT_PUBLIC_BFF_URL=http://localhost:8004
NEXT_PUBLIC_APP_NAME=Echo
NEXT_PUBLIC_MAX_MESSAGE_LENGTH=5000
NEXT_PUBLIC_FARO_COLLECTOR_URL=http://localhost:12347/collect
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_APP_ENVIRONMENT=development


# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# For testing: USE_SMTP=true with MailHog
# For production: USE_SMTP=false with Resend
USE_SMTP=true
SMTP_HOST=localhost
SMTP_PORT=1025
RESEND_API_KEY=your-resend-api-key-here
EMAIL_FROM_ADDRESS=noreply@echo.local
EMAIL_FROM_NAME=Echo Workspace


# =============================================================================
# RATE LIMITING (shared defaults)
# =============================================================================
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000


# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain


# =============================================================================
# OPENTELEMETRY CONFIGURATION
# =============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317