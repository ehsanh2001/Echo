# secrets.yaml
# Placeholder secrets for local Minikube deployment
#
# ⚠️  WARNING: These are development secrets only!
# Do NOT use these values in production!
#
# For production, use:
# - Kubernetes Secrets with proper encryption
# - External secrets management (AWS Secrets Manager, Vault, etc.)
# - Sealed Secrets for GitOps workflows
#
# Infrastructure services run in Docker and are accessible via host.minikube.internal
# PostgreSQL: port 5433 (not 5432 to avoid conflict with dev environment)
# Redis: port 6379
# RabbitMQ: port 5672
# MailHog SMTP: port 1025
apiVersion: v1
kind: Secret
metadata:
  name: echo-secrets
  namespace: echo
type: Opaque
stringData:
  # =============================================================================
  # JWT Secret
  # =============================================================================
  JWT_SECRET: "dev-jwt-secret-change-in-production-min-32-chars"

  # =============================================================================
  # Database URLs (PostgreSQL via host.minikube.internal:5433)
  # =============================================================================
  USER_SERVICE_DATABASE_URL: "postgresql://postgres:postgres@host.minikube.internal:5433/users_db?schema=public"
  WC_SERVICE_DATABASE_URL: "postgresql://postgres:postgres@host.minikube.internal:5433/workspace_channels_db?schema=public"
  MESSAGE_SERVICE_DATABASE_URL: "postgresql://postgres:postgres@host.minikube.internal:5433/message_db?schema=public"

  # =============================================================================
  # Redis URL (via host.minikube.internal:6379)
  # =============================================================================
  REDIS_URL: "redis://:dev-redis-password@host.minikube.internal:6379"

  # =============================================================================
  # RabbitMQ URL (via host.minikube.internal:5672)
  # =============================================================================
  RABBITMQ_URL: "amqp://admin:dev-rabbitmq-password@host.minikube.internal:5672"

  # =============================================================================
  # Email Configuration (MailHog via host.minikube.internal:1025)
  # =============================================================================
  SMTP_HOST: "host.minikube.internal"
  SMTP_PORT: "1025"
  RESEND_API_KEY: "re_placeholder_not_used_in_local"
